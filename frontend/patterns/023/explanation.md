# 出題意図

この問題は以下の能力を測定することを目的としています：

## 1. 高度なCompound Component Pattern
- Context APIによる複雑な状態管理
- 複数の子コンポーネントの協調動作
- React.cloneElementによる動的なprops注入

## 2. React Portalの実装
- createPortalを使用したDOM階層外へのレンダリング
- モーダルのz-index管理
- イベントバブリングの制御

## 3. アクセシビリティの包括的実装
- ARIA属性（role="dialog", aria-modal, aria-labelledby）
- フォーカストラップの実装
- キーボードナビゲーション（Tab循環）
- フォーカスの保存と復元

## 4. 高度なDOM操作とイベント処理
- スクロールロックの実装
- スクロールバー幅の計算と補正
- グローバルイベントリスナーの管理
- Escapeキーハンドリング

## 5. カスタムフックの設計
- useFocusTrap - フォーカス管理の抽象化
- useScrollLock - スクロール制御の抽象化
- 副作用のクリーンアップ

## 6. アニメーションとスタイリング
- CSSアニメーションの動的追加
- スムーズな開閉トランジション
- レスポンシブデザイン対応

## 7. 実践的な考慮事項
- メモリリーク防止（イベントリスナーのクリーンアップ）
- パフォーマンス最適化（条件付きレンダリング）
- エラーハンドリング（Context外での使用防止）

この実装は、プロダクションレベルのモーダルコンポーネントに必要な全ての機能を網羅しており、フロントエンドエンジニアとして必要な幅広いスキルを測定します。特に、アクセシビリティとユーザビリティの両立は、現代のWeb開発において極めて重要なスキルです。