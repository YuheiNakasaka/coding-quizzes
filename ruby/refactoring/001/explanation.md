# 出題意図

この問題は、ホテル予約システムのコードをリファクタリングすることで、以下のプログラミング原則とテーマを学習することを目的としています。

## 適用されたテーマ

1. **DRY原則 (Don't Repeat Yourself)** - プリンシプル オブ プログラミング
   - 重複した日付検証ロジックと価格計算ロジックを排除
   - 共通処理をメソッドに抽出

2. **ガード節 (Guard Clause)** - Tidy First?
   - ネストした条件分岐を早期リターンで平坦化
   - 事前条件を明確にし、読みやすさを向上

3. **マジックナンバーを名前付き定数に置き換える** - Code Complete, Refactoring
   - 価格、月番号、割引率などをわかりやすい定数に
   - コードの意図を明確に表現

4. **単一責任の原則 (SRP)** - プリンシプル オブ プログラミング
   - 日付検証、価格計算、部屋タイプ検索を独立したメソッドに分離
   - 各メソッドが1つの明確な責務を持つ

5. **抽象化とカプセル化** - Code Complete, Practical Software Engineering
   - 部屋タイプ情報をハッシュ構造で管理
   - 内部実装の詳細を隠蔽し、インターフェースを簡潔に

6. **明証原理** - プリンシプル オブ プログラミング
   - valid_user?, peak_season?, gold_member?などの述語メソッドで意図を明確に
   - コードを読むだけで正しさが判断できる

7. **データ構造の複雑化を優先** - Code Complete
   - ロジックの複雑さをデータ構造（ROOM_TYPESハッシュ）に移動
   - 条件分岐をデータ駆動型のアプローチに変更

8. **メソッドの抽出** - Refactoring
   - 長大なメソッドを小さな、目的が明確なメソッドに分割
   - テスタビリティと再利用性の向上