# 出題意図

この問題は、ゲームキャラクタークラスのリファクタリングを通じて、オブジェクト指向設計とメタプログラミングの技法を学習することを目的としています。

## 適用されたテーマ

1. **オープンクローズド原則 (OCP)** - Code Complete, Practical Software Engineering
   - キャラクタータイプの追加に対して開いているが、既存コードの変更に対して閉じている
   - データ構造にキャラクター情報を格納することで実現

2. **カプセル化と情報隠蔽** - Code Complete, Practical Software Engineering  
   - instance_variable_get/setの直接アクセスを排除
   - 適切なインターフェースメソッド（take_damage）を提供

3. **データ駆動型設計** - Code Complete
   - キャラクター情報、スキル情報、レベルアップ情報をハッシュ構造で管理
   - 条件分岐をデータ参照に置き換え

4. **重複コードの排除 (DRY)** - プリンシプル オブ プログラミング, Refactoring
   - 同じパターンのスキル処理を一元化
   - ダメージ計算ロジックの共通化

5. **単一責任の原則 (SRP)** - プリンシプル オブ プログラミング
   - ダメージ計算、MP消費、防御力適用を別メソッドに分離
   - 各メソッドが明確な1つの責任を持つ

6. **メソッド提供によるコミュニケーション** - メタプログラミングRuby
   - attr_readerによる明示的なインターフェース定義
   - 内部実装を隠し、公開インターフェースを明確に

7. **名前付き定数の使用** - Code Complete, Refactoring
   - DEFENSE_REDUCTION_RATEなどでマジックナンバーを排除
   - 意図を明確にし、変更を容易に

8. **フェイルセーフと防御的プログラミング** - プリンシプル オブ プログラミング
   - 不正なキャラクタータイプに対するArgumentError
   - マイナスダメージの防止（[reduced_damage, 0].max）

9. **凝集度の向上** - Practical Software Engineering
   - キャラクター関連の機能をGameCharacterクラスに集約
   - 関連するデータと振る舞いを一緒に管理